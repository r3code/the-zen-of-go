# ГО Дзен / Русская версия [The Zen of Go](https://the-zen-of-go.netlify.com)

Десять технических ценностей для написания простого, удобочитаемого и обслуживаемого кода Go.
Представлены на [GopherCon Израиль 2020](http://gophercon.org.il)


## Каждный пакет служит только одной цели

Хорошо разработанный пакет Go предоставляет единую идею, набор связанных поведений. Хороший пакет Go начинается с выбора хорошего имени. Думайте о названии вашего пакета как о краткой презентации (" 	презентация в лифте"), чтобы описать то, что он предоставляет, используя только одно слово.


## Обрабатывайте ошибки явно

Надежные программы составлены из частей, которые обрабатывают случаи отказа, до того как они сами себя поблагодарят. Детальность `if err! = nil {return err}` перевешивается значимостью преднамеренной обработки каждого условия отказа в точке, в которой они возникают. Паника и восстановление это не исключения, они не предназначены для такого использования.


## Возвращайте в начале, а не городите множество вложений 

Каждый раз, когда вы делаете отступ, вы добавляете еще одно предварительное условие в свой стек программиста, занимая один из 7 ± 2 слотов в своей кратковременной памяти. Избегайте потока управления, который требует множества вложений. Вместо того, чтобы делать вложения, выдерживайте маршрут успешного завершения ближе к левому краю, используя сторожевые условия.


## Оставьте вопросы конкурентного исполнения вызывающей стороне

Позвольте вызывающей стороне выбрать, надо ли они запускать вашу библиотеку или функцию асинхронно, не навязывайте это им. Если ваша библиотека использует конкурентное исполнение, она должна делать это прозрачно.


## Пееред запуском горутины, знай когда она остановится

Горутины владеют ресурсами; блокировками, переменными, памятью и т.д. Самый надежный способ освободить эти ресурсы - перестать владеть горутиной.


## Избегайте хранения состояния на уровнн пакета 

Стремитесь быть явными, уменьшать связность и пугающее действие на расстоянии, предоставляя зависимости, которые нужны типу, как поля этого типа, а не используя переменные пакета.


## Простота имеет значение

Простота не является синонимом простого. Простое не означает грубое, оно означает читабельность и поддерживаемость. Когда есть возможность выбирать, переходите к более простому решению.

## Напишите тесты, чтобы зафиксировать поведение API вашего пакета

Тестируйте сначала или тестируйте позже, если вы начелены на 100% тестовое покрытие или довольны меньшим, независимо от того, API вашего пакета является вашим контрактом с его пользователями. Тесты являются гарантией того, что эти контракты написаны. Убедитесь, что вы тестируете поведение, которое пользователи могут наблюдать и на которое они могут положиться.


## Если вы думаете, что это медленно, сначала докажите это с помощью теста производительности

Так много преступлений против поддерживаемости совершаются во имя производительности. Оптимизация разрушает абстракции, обнажает внутренности и сильно связывает. Если вы решите взять на себя эти расходы, убедитесь, что они сделаны по уважительной причине.


## Умеренность - это добродетель

Используйте процедуры, каналы, блокировки, интерфейсы и встраивание умеренно.


## Поддерживаемость играет роль

Четкость, удобочитаемость, простота - все это аспекты поддерживаемости. Можно ли сохранить то, над чем ты работал, чтобы сохранить его после ухода? Что вы можете сделать сегодня, чтобы облегчить жизнь тем, кто придет за вами?



Насколько это возможно по закону, Давид Чини ([David Cheney](https://dave.cheney.net/)) отказался от всех авторских и смежных или смежных прав на [The Zen of Go](https://the-zen-of-go.netlify.com/).

[<img src="https://i.creativecommons.org/p/zero/1.0/88x31.png">](http://creativecommons.org/publicdomain/zero/1.0/)


Последнее обновление 2020-02-22 21:38:39 UTC  